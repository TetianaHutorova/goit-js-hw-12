{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function createMarkup(arr = []) {\r\n  const defaultValues = {\r\n    webformatURL:\r\n      'https://salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png',\r\n    tags: '',\r\n    largeImageURL:\r\n      'https://salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png',\r\n    likes: 0,\r\n    views: 0,\r\n    comments: 0,\r\n    downloads: 0,\r\n  };\r\n  return arr\r\n    .map(\r\n      ({\r\n        webformatURL,\r\n        tags,\r\n        largeImageURL,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n      } = defaultValues) => `<li class=\"js-item item\"><a  href='${largeImageURL}'>\r\n  <img src=\"${webformatURL}\" alt=\"${tags}\" data-largeImageURL=\"${largeImageURL}\" ></a>\r\n  <ul class=\"descriptions\">\r\n    <li class=\"description\" >Likes <span class=\"span\">${likes}</span></li>\r\n    <li class=\"description\">Views <span class=\"span\">${views}</span></li>\r\n    <li class=\"description\">Comments <span class=\"span\">${comments}</span></li>\r\n    <li class=\"description\">Downloads <span class=\"span\">${downloads}</span></li>\r\n  </ul>\r\n</li>`\r\n    )\r\n    .join('');\r\n}\r\n","export default function serviceHandlerSearch(url, value, parametrs) {\r\n  const params = new URLSearchParams({ ...parametrs, q: value });\r\n\r\n  return fetch(`${url}?${params}`).then(response => {\r\n    if (!response.ok) {\r\n      throw new Error(response.statusText);\r\n    }\r\n    return response.json();\r\n  });\r\n}\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport createMarkup from '/js/render-functions';\r\nimport serviceHandlerSearch from './js/pixabay-api';\r\n\r\nconst refs = {\r\n  form: document.querySelector('.js-form'),\r\n  input: document.querySelector('.js-input'),\r\n  container: document.querySelector('.js-list'),\r\n  loader: document.querySelector('.loader'),\r\n};\r\n\r\nrefs.form.addEventListener('submit', handlerSearch);\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\n\r\nconst parametrs = {\r\n  key: '47002801-76ba89481123b51ee1293cd3a',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  safesearch: true,\r\n};\r\n\r\nlet lightbox = new SimpleLightbox('.gallery a', {\r\n  captionDelay: 250,\r\n  captionsData: 'alt',\r\n});\r\n\r\nfunction handlerSearch(evt) {\r\n  evt.preventDefault();\r\n  const value = evt.target.elements.search.value;\r\n  if (!value.trim()) {\r\n    return iziToast.error({\r\n      message: 'Please fill in the field!',\r\n      position: 'topRight',\r\n    });\r\n  }\r\n  refs.container.innerHTML = '';\r\n\r\n  refs.loader.classList.add('displayOn');\r\n\r\n  serviceHandlerSearch(URL, value, parametrs)\r\n    .then(resolve => {\r\n      if (resolve.hits.length === 0) {\r\n        throw new Error();\r\n      }\r\n\r\n      refs.container.innerHTML = createMarkup(resolve.hits);\r\n      lightbox.refresh();\r\n    })\r\n    .catch(_ =>\r\n      iziToast.error({\r\n        message:\r\n          'Sorry, there are no images matching your search query. Please try again!',\r\n        position: 'topRight',\r\n      })\r\n    )\r\n    .finally(_ => refs.loader.classList.remove('displayOn'));\r\n\r\n  evt.target.reset();\r\n}\r\n"],"names":["createMarkup","arr","defaultValues","webformatURL","tags","largeImageURL","likes","views","comments","downloads","serviceHandlerSearch","url","value","parametrs","params","response","refs","handlerSearch","URL","lightbox","SimpleLightbox","evt","iziToast","resolve","_"],"mappings":"6vBAAe,SAASA,EAAaC,EAAM,GAAI,CAC7C,MAAMC,EAAgB,CACpB,aACE,sFACF,KAAM,GACN,cACE,sFACF,MAAO,EACP,MAAO,EACP,SAAU,EACV,UAAW,CACf,EACE,OAAOD,EACJ,IACC,CAAC,CACC,aAAAE,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,EAAUP,IAAkB,sCAAsCG,CAAa;AAAA,cACjEF,CAAY,UAAUC,CAAI,yBAAyBC,CAAa;AAAA;AAAA,wDAEtBC,CAAK;AAAA,uDACNC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA,MAG/D,EACA,KAAK,EAAE,CACZ,CCjCe,SAASC,EAAqBC,EAAKC,EAAOC,EAAW,CAClE,MAAMC,EAAS,IAAI,gBAAgB,CAAE,GAAGD,EAAW,EAAGD,CAAK,CAAE,EAE7D,OAAO,MAAM,GAAGD,CAAG,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CAChD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CCFA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,MAAO,SAAS,cAAc,WAAW,EACzC,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAa,EAElD,MAAMC,EAAM,2BAENL,EAAY,CAChB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,IAAIM,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,aAAc,KAChB,CAAC,EAED,SAASH,EAAcI,EAAK,CAC1BA,EAAI,eAAc,EAClB,MAAMT,EAAQS,EAAI,OAAO,SAAS,OAAO,MACzC,GAAI,CAACT,EAAM,OACT,OAAOU,EAAS,MAAM,CACpB,QAAS,4BACT,SAAU,UAChB,CAAK,EAEHN,EAAK,UAAU,UAAY,GAE3BA,EAAK,OAAO,UAAU,IAAI,WAAW,EAErCN,EAAqBQ,EAAKN,EAAOC,CAAS,EACvC,KAAKU,GAAW,CACf,GAAIA,EAAQ,KAAK,SAAW,EAC1B,MAAM,IAAI,MAGZP,EAAK,UAAU,UAAYhB,EAAauB,EAAQ,IAAI,EACpDJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GACLF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,CACF,EACA,QAAQE,GAAKR,EAAK,OAAO,UAAU,OAAO,WAAW,CAAC,EAEzDK,EAAI,OAAO,OACb"}